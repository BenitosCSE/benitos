<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VEND PRO – Error Codes</title>
  <style>
    /* --------- Global Reset & Base --------- */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    html, body {
      height: 100%;
      width: 100%;
      font-family: Arial, sans-serif;
      color: #fff;
      background: linear-gradient(to bottom, #1a1a1a, #000);
    }
    a {
      text-decoration: none;
      color: inherit;
    }
    button {
      cursor: pointer;
      border: none;
      outline: none;
      background: none;
      color: inherit;
      font: inherit;
    }

    /* --------- Container Styles --------- */
    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      padding: 20px;
      width: 100%;
      max-width: 95%;
      margin: auto;
    }
    @media (min-width: 1024px) {
      .container {
        max-width: 650px;
      }
    }

    /* --------- Logo & Subtitle --------- */
    .logo {
      font-size: 2.5rem;
      font-weight: 800;
      color: #fff;
      text-shadow: 0 0 10px #000;
      text-align: center;
      margin-top: 40px;
    }
    .subtitle {
      font-size: 1rem;
      font-weight: 400;
      color: #ddd;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-top: 10px;
      text-align: center;
    }

    /* --------- Buttons --------- */
    .btn {
      width: 100%;
      max-width: 400px;
      margin: 15px 0;
      padding: 15px;
      font-size: 1rem;
      font-weight: 600;
      color: #fff;
      background: linear-gradient(to right, #ff8c00, #ffa500);
      border-radius: 5px;
      position: relative;
      overflow: hidden;
      transition: transform 0.2s ease;
    }
    .btn:hover {
      transform: scale(1.02);
    }
    /* Light beam animation */
    .btn::before {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        to right,
        rgba(255, 255, 255, 0.4) 0%,
        rgba(255, 255, 255, 0) 20%,
        rgba(255, 255, 255, 0) 80%,
        rgba(255, 255, 255, 0.4) 100%
      );
      transform: skewX(-25deg);
      animation: shine 4s linear infinite;
    }
    @keyframes shine {
      0% {
        left: -100%;
      }
      100% {
        left: 200%;
      }
    }

    /* --------- Back Button --------- */
    .back-btn {
      position: absolute;
      top: 20px;
      left: 20px;
      padding: 8px 12px;
      font-size: 0.9rem;
      border: 1px solid #fff;
      border-radius: 4px;
      background: rgba(0, 0, 0, 0.3);
      transition: background 0.2s ease;
    }
    .back-btn:hover {
      background: rgba(255, 255, 255, 0.1);
    }

    /* --------- Machine Page --------- */
    .watermark {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 5rem;
      font-weight: 800;
      color: #fff;
      opacity: 0.05;
      pointer-events: none;
      user-select: none;
      white-space: nowrap;
    }
    .machine-content {
      margin-top: 80px;
      width: 100%;
      text-align: center;
    }
    .machine-content p {
      font-size: 0.9rem;
      color: #ccc;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 20px;
    }
    .machine-content input[type="number"] {
      width: 80%;
      max-width: 300px;
      padding: 10px;
      font-size: 1rem;
      border: 1px solid #555;
      border-radius: 4px;
      background: #222;
      color: #fff;
      margin-bottom: 15px;
    }
    .machine-content input[type="number"]::placeholder {
      color: #888;
    }
    .machine-content .enter-btn {
      margin-top: 10px;
    }

    /* --------- Error Display --------- */
    .error-container {
      margin-top: 40px;
      width: 100%;
      background: #111;
      border: 1px solid #333;
      border-radius: 6px;
      padding: 20px;
      text-align: center;
    }
    .error-code {
      font-size: 2rem;
      font-weight: 800;
      margin-bottom: 10px;
    }
    .error-msg {
      font-size: 1rem;
      margin-bottom: 20px;
      color: #eee;
    }

    /* --------- Accordion Panels --------- */
    .accordion {
      margin-top: 20px;
      width: 100%;
    }
    .panel {
      background: #222;
      border: 1px solid #333;
      border-radius: 5px;
      margin-bottom: 15px;
      overflow: hidden;
    }
    .panel-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 15px;
      background: #333;
      cursor: pointer;
    }
    .panel-header span {
      font-size: 1rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .panel-header .toggle-icon {
      font-size: 1.2rem;
      transition: transform 0.2s ease;
    }
    .panel-content {
      display: none;
      padding: 15px;
      background: #111;
      color: #ddd;
      max-height: 60vh;
      overflow-y: auto;
    }
    .panel-content p {
      margin-bottom: 15px;
      line-height: 1.5;
    }
    .panel-content .copy-section {
      display: flex;
      justify-content: flex-end;
      align-items: center;
    }
    .panel-content .copy-icon {
      font-size: 1.2rem;
      cursor: pointer;
      user-select: none;
      margin-right: 10px;
    }
    .panel-content .collapse-btn {
      padding: 6px 10px;
      font-size: 0.9rem;
      background: #444;
      border-radius: 4px;
      transition: background 0.2s ease;
    }
    .panel-content .collapse-btn:hover {
      background: #555;
    }
/* назва елемента, в якому показуються fix/steps */
.accordion-body {
  white-space: pre-line;   /* переносить \n */
  text-align: left;        /* вирівнює зліва */
}
    /* --------- Hidden Utility --------- */
    .hidden {
      display: none !important;
    }
    /* ловимо ПРЯМО текст у fix / steps, де б він не стояв */
pre, .accordion-body, .error-text, .steps, [data-steps] {
  white-space: pre-line !important;   /* \n → перенос */
  text-align: left !important;        /* ліве вирівнювання */
}
.content-area {
  margin-top: 15px;
  max-height: 300px;
  overflow-y: auto;
  transition: max-height 0.3s ease;
  background: rgba(255, 255, 255, 0.05);
  padding: 15px;
  border-radius: 8px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  width: 100%;
  max-width: 1200px;
  margin-left: auto;
  margin-right: auto;
  white-space: pre-wrap;
  word-wrap: break-word;
}
  </style>
</head>
<body>
  <div id="app"></div>

  <script>
    // --------- DATA Object (код та тексти помилок) ---------
    const DATA = {
  cotton: {
    1: { en: '1 Thermocouple open circuit', ua: 'Обірваний ланцюг термопари', fix: `1. Ця тривога виникає лише у машинах із вимірюванням температури через вугільні щітки.
2. Перепідключіть дроти термопари.
3. Очистіть вугільні щітки.
4. Переконайтеся, що термопара проводить струм.
5. Перевірте, чи працює вихід температурного передавача належним чином.
6. У машинах із бездротовим вимірюванням температури ця тривога не виникає.`, 
    steps: '4. Метод перевірки провідності дроту термопари: використовуйте мультиметр у режимі перевірки провідності, підключивши його до контактів 2 і 3 температурного передавача. Якщо мультиметр подає звуковий сигнал – з\'єднання є, якщо ні – проблема у термопарі або її проводах.\n\n5. Метод перевірки виходу температурного передавача:  \nВипадок 1: Якщо термопара справна, але температура пальника на екрані показує "399", необхідно замінити температурний передавач.  \n\\nВипадок 2: Якщо термопара справна, але температура на екрані "0", встановіть мультиметр у режим "DC 200V" і підключіть щупи до контактів 11 і 12 передавача.  \n\\n- Якщо виміряна напруга = 0V:\\n  Відключіть сусідній передавач і поміняйте їх місцями, потім перевірте, чи змінилося відображення температури на екрані.  \n  - Якщо температура не змінилася – очистіть вугільні щітки пальника та контактні кільця.  \n  - Якщо температура змінилася – передавач несправний, його необхідно замінити.  \n\\n- Якщо виміряна напруга > 0V:  \n  Перевірте зєднання температурного передавача з PLC. Якщо проводка справна, проблема в PLC, його необхідно замінити.' 
    },
    2: { en: '2 Burner heating exception', ua: 'Аномалія нагріву пальника', fix: 'Тривогу скасовано', steps: '' },
    3: { en: '3 Emergency stop', ua: 'Аварійна зупинка активована', fix: 'Тривогу скасовано', steps: '' },
    4: { en: '4 Burner rotation exception alarm', ua: 'Аномалія обертання пальника', fix: '1. Переконайтеся, чи пальник обертається під час спрацьовування тривоги.\n2. Якщо пальник обертається, перевірте його функцію нагріву.\n3. Якщо пальник не обертається, перевірте плату регулювання швидкості та двигун пальника.', steps: 'Метод перевірки функції нагріву пальника:\n1. Увійдіть у режим налагодження, натисніть кнопку "Нагрів пальника та запуск", спостерігайте, чи підвищується температура пальника на екрані.\n2. Якщо температура підвищується – нагрів працює нормально, необхідно очистити вугільні щітки.\n3. Якщо температура не підвищується – перевірте, чи світиться індикатор нагрівального реле:\n   - Якщо твердотільне реле світиться:\n     - Використовуйте мультиметр у режимі перевірки провідності, виміряйте між OUT+ та OUT-.\n     - Якщо немає провідності – замініть твердотільне реле.\n     - Якщо є провідність – замініть електромагнітну нагрівальну пластину.\n   - Якщо твердотільне реле не світиться:\n     - Перевірте параметри налаштувань, чи встановлена температура пальника приблизно 2000°C.\n     - Використовуйте мультиметр у режимі DC, виміряйте напругу між IN+ та IN-.\n     - Якщо є 24V, але реле не світиться – замініть реле.\n     - Якщо немає напруги – перевірте проводку, якщо вона справна, замініть PLC.\n\n---\n\nМетод перевірки функції обертання пальника:\n1. У режимі налагодження натисніть кнопку "Низькошвидкісне обертання пальника", перевірте, чи починає пальник обертатися.\n   - Якщо пальник обертається – функція працює, але може знадобитися очищення вугільних щіток (можливе засмічення або зношення).\n   - Якщо пальник не обертається, проведіть подальшу перевірку:\n     1. Відкрийте електричний шафу, використовуйте мультиметр (DC 200V) для вимірювання напруги в наступних точках:\n        - Зелений маркер (правий верхній кут плати регулювання) – перевірте наявність 24V вхідної напруги.\n        - Жовтий маркер (сигнальний провід) – перевірте наявність сигнальної напруги.\n        - Червоний маркер (лівий верхній кут плати) – перевірте вихідну напругу.\n     2. Аналіз результатів:\n        - Якщо є вихідна напруга, але пальник не обертається – проблема у двигуні пальника, його необхідно замінити.\n        - Якщо немає вихідної напруги, але є вхідний сигнал – плата регулювання швидкості несправна, її потрібно замінити.\n        - Якщо немає сигнальної напруги, виміряйте вихід PLC.\n        - Якщо PLC не подає вихідний сигнал – висока ймовірність його несправності, необхідно замінити PLC.' },
    5: { en: '5 Lack of stick in stick box alarm', ua: 'Відсутність стрижнів у коробці', fix: 'Тривогу скасовано', steps: '' },
    6: { en: '6 sticks are all run out,please contact the staff', ua: 'Аномалія виявлення відсутності стрижнів у коробці', fix: '1. Переконайтеся, що в коробці ще є стрижні.\n2. Перевірте, чи немає заклинювання стрижнів.\n3. Перевірте, чи датчик працює нормально.', steps: '2. Вийміть заклинений стрижень і перезапустіть машину.\n3. Якщо стрижень стоїть у правильному положенні, але чорний датчик не спрацьовує, після очищення його поверхні без ефекту необхідно замінити чорний датчик.' },
    7: { en: '7 Alternate alarm', ua: 'Резервна аномалія', fix: 'Тривогу скасовано', steps: '' },
    8: { en: '8 Air pump blowing detection alarm', ua: 'Аномалія виявлення продування повітряним насосом', fix: '1. Увійдіть у режим налагодження, активуйте повітряний насос вручну та перевірте, чи він працює.\n2. Переконайтеся, що сигнальний кабель датчика повітряного насоса підключений правильно.', steps: 'Детальні кроки перевірки:\n1. Переконайтеся, що синій драйвер у зоні цукрового контейнера світиться зеленим.\n   - Якщо драйвер світиться, від\'єднайте реле повітряного насоса та перевірте його роботу:\n     - Якщо насос не працює – замініть його.\n     - Якщо насос почав працювати після відключення реле, поміняйте місцями це реле з сусіднім і повторіть тест.\n   - Якщо драйвер не світиться, мультиметром (режим DC) виміряйте вихідну напругу між V+ і V- на блоці живлення насоса:\n     - Якщо є напруга – замініть повітряний насос.\n     - Якщо напруги немає – замініть блок живлення.\n2. Повторно перевірте та надійно закріпіть усі підключення драйвера.' },
    9: { en: '9 Water tank water shortage alarm', ua: 'Аномалія зволоження або нестача води в резервуарі', fix: '1. Перевірте, чи є вода в резервуарі.\n2. Переконайтеся, що насос зволоження працює нормально.\n3. Перевірте, чи правильно встановлені параметри вологості.\n\nДетальні кроки перевірки:', steps: 'Внутрішнє зволоження:\n- Увімкніть машину. Якщо рівень вологості на екрані нижче 48%, натисніть кнопку "Внутрішнє зволоження" та доторкніться до насоса, щоб перевірити його вібрацію:\n  1. Якщо насос вібрує, від\'єднайте клапан нижнього трубопроводу та перевірте подачу води. Якщо вода не подається – замініть насос.\n  2. Якщо насос не вібрує, виміряйте напругу на клемах насоса (напрямок зазначений стрілкою):\n     - Якщо є напруга – замініть насос.\n     - Якщо напруги немає, перевірте:\n       - Чи проводиться сигнал між вихідними клемами OUT+ та OUT- твердотільного реле зволоження.\n       - Чи є 24V між IN+ та IN-.\n\nПарове зволоження:\n- Підключіть віддалений модуль та зверніться до інженера сервісної підтримки для оновлення прошивки.\n\nКоригування параметрів зволоження:\n- Увійдіть у налаштування вологості, на сторінці регулювання натисніть "Коригування параметрів для зимового режиму" у правому нижньому куті.' },
    10: { en: '10 Wastewater overflow warning', ua: 'Попередження: заповнена ємність для стічної води', fix: '1. Перевірте рівень стічної води в ємності.\n2. Очистіть ємність, якщо вона заповнена.\n3. Перевірте, чи працює насос відкачування стічної води.', steps: 'Детальні кроки перевірки:\n1. Відкрийте панель доступу до ємності стічної води.\n2. Перевірте рівень води візуально.\n3. Якщо рівень високий:\n   - Відключіть живлення машини.\n   - Відкрийте клапан спуску води.\n   - Дочекайтеся повного спуску води.\n   - Закрийте клапан.\n   - Увімкніть живлення.\n4. Якщо рівень нормальний, але тривога не зникає:\n   - Перевірте датчик рівня води.\n   - Очистіть датчик від забруднень.\n   - Перевірте підключення датчика.' },
    11: { en: '11 Lack of white sugar alarm', ua: 'Попередження: нестача білого цукру', fix: '1. Перевірте рівень білого цукру в контейнері.\n2. Додайте цукор, якщо рівень низький.\n3. Перевірте, чи працює механізм подачі цукру.', steps: 'Детальні кроки перевірки:\n1. Відкрийте контейнер з білим цукром.\n2. Перевірте рівень цукру візуально.\n3. Якщо рівень низький:\n   - Додайте новий цукор до позначки MAX.\n   - Переконайтеся, що цукор рівномірно розподілений.\n4. Якщо рівень нормальний, але тривога не зникає:\n   - Перевірте датчик рівня цукру.\n   - Очистіть датчик від забруднень.\n   - Перевірте підключення датчика.' },
    12: { en: '12 Lack of brown sugar alarm', ua: 'Попередження: нестача червоного цукру', fix: '1. Перевірте рівень червоного цукру в контейнері.\n2. Додайте цукор, якщо рівень низький.\n3. Перевірте, чи працює механізм подачі цукру.', steps: 'Детальні кроки перевірки:\n1. Відкрийте контейнер з червоним цукром.\n2. Перевірте рівень цукру візуально.\n3. Якщо рівень низький:\n   - Додайте новий цукор до позначки MAX.\n   - Переконайтеся, що цукор рівномірно розподілений.\n4. Якщо рівень нормальний, але тривога не зникає:\n   - Перевірте датчик рівня цукру.\n   - Очистіть датчик від забруднень.\n   - Перевірте підключення датчика.' },
    13: { en: '13 Lack of yellow sugar alarm', ua: 'Попередження: нестача жовтого цукру', fix: '1. Перевірте рівень жовтого цукру в контейнері.\n2. Додайте цукор, якщо рівень низький.\n3. Перевірте, чи працює механізм подачі цукру.', steps: 'Детальні кроки перевірки:\n1. Відкрийте контейнер з жовтим цукром.\n2. Перевірте рівень цукру візуально.\n3. Якщо рівень низький:\n   - Додайте новий цукор до позначки MAX.\n   - Переконайтеся, що цукор рівномірно розподілений.\n4. Якщо рівень нормальний, але тривога не зникає:\n   - Перевірте датчик рівня цукру.\n   - Очистіть датчик від забруднень.\n   - Перевірте підключення датчика.' },
    14: { en: '14 Lack of blue sugar alarm', ua: 'Попередження: нестача синього цукру', fix: '1. Перевірте рівень синього цукру в контейнері.\n2. Додайте цукор, якщо рівень низький.\n3. Перевірте, чи працює механізм подачі цукру.', steps: 'Детальні кроки перевірки:\n1. Відкрийте контейнер з синім цукром.\n2. Перевірте рівень цукру візуально.\n3. Якщо рівень низький:\n   - Додайте новий цукор до позначки MAX.\n   - Переконайтеся, що цукор рівномірно розподілений.\n4. Якщо рівень нормальний, але тривога не зникає:\n   - Перевірте датчик рівня цукру.\n   - Очистіть датчик від забруднень.\n   - Перевірте підключення датчика.' },
    15: { en: '15 Device reset timeout alarm', ua: 'Перевищення часу на скидання помилки обладнання', fix: 'Аномалія скидання через заклинювання стрижнів:\n1. Перевірте, чи є стрижні в коробці.\n2. Відкрийте дверцята та визначте, де саме застряг стрижень.\n\nАномалія скидання через несправність маніпулятора:\n1. Перевірте, чи правильно встановлені параметри.\n2. Переконайтеся, що на драйвері не горить червоний індикатор.\n3. Поміняйте місцями драйвери несправної осі та іншої осі, а також їхні позиції перемикання.', steps: 'Додаткові перевірки:\n- Якщо маніпулятор перебуває у положенні захоплення стрижня, перевірте за інструкцією щодо помилки "Відсутність стрижня".\n- Якщо маніпулятор застряг або його рухи некоректні:\n  1. Увійдіть у сервісне меню та перевірте версії PLC та прошивки машини. Якщо хоча б одна з версій = 0, підключіть віддалений модуль і зверніться до інженера сервісної підтримки для оновлення.\n  2. Переконайтеся, що всі драйвери світяться зеленим. Якщо є червоний індикатор, поміняйте місцями драйвери та їхні позиції.\n     - Якщо після заміни той самий драйвер продовжує горіти червоним – несправний сам драйвер.\n     - Якщо після заміни той самий механізм не працює – несправний маніпулятор.\n  3. Якщо версія прошивки нормальна, драйвери працюють, зайдіть у меню налагодження та утримуйте кнопки X+, X-, Y+, Y-, Z+, Z-, спостерігаючи за рухом маніпулятора:\n     - Якщо при натисканні Z- немає реакції, поміняйте місцями драйвери осей Z та Y, після чого перезавантажте машину та перевірте рухи.\n     - Якщо маніпулятор працює так само, як і до заміни, то, швидше за все, проблема в ньому – його необхідно замінити.\n     - Якщо після заміни поведінка змінилася, то, ймовірно, несправний драйвер.' },
    16: { 
      en: '16 Take the stick the second time exception alarm', 
      ua: 'Аномалія повторного захоплення стрижня', 
      fix: 'Тривогу скасовано', 
      steps: '' 
    },
    17: { 
      en: '17 Power supply detection alarm', 
      ua: 'Перевірка живлення', 
      fix: '1. Недостатній заряд UPS.\n2. Несправність реле мережевого живлення.', 
      steps: 'Методи усунення:\n1. Обхід білого UPS (зверніться до сервісного інженера для отримання відеоінструкції).\n2. Замкніть контакти реле мережевого живлення.' 
    },
    18: { 
      en: '18 Abnormal change occurred, not found:', 
      ua: 'Аномалія видачі решти, не видано: не вдалося видати повну суму протягом 20 секунд', 
      fix: 'Методи усунення:', 
      steps: '1. Перейдіть у меню → Інше → Налаштування видачі решти → Видача монет.\n   - Якщо монети видаються – ймовірно, це помилкове спрацьовування або заклинювання механізму видачі.\n   - Якщо монети не видаються, вийміть усі монети та повторно натисніть "Видача монет".\n     - Якщо після цього механізм обертається – необхідно замінити пристрій видачі решти.' 
    },
    19: { 
      en: '19 change warning: please make up coins in time', 
      ua: 'Попередження про решту: поповніть запас монет', 
      fix: 'Попереджувальний рівень встановлений у налаштуваннях Android-екрану.', 
      steps: 'Додайте монети.' 
    },
    20: { 
      en: '20 The stick is lower than 20%, please refill in advance', 
      ua: 'Стрижнів менше 20%, поповніть матеріали заздалегідь', 
      fix: 'У розширених параметрах вимкнено функцію автоматичного поповнення. Якщо ця функція потрібна, після додавання матеріалів необхідно на сторінці вибору натискати й утримувати верхній лівий кут для завершення поповнення.', 
      steps: '' 
    },
    21: { 
      en: '21 The white sugar is less than 20%, please refill in advance', 
      ua: 'Білий цукор менше 20%, поповніть заздалегідь', 
      fix: '', 
      steps: '' 
    },
    22: { 
      en: '22 The red sugar is less than 20%, please refill in advance', 
      ua: 'Червоний цукор менше 20%, поповніть заздалегідь', 
      fix: '', 
      steps: '' 
    },
    23: { 
      en: '23 The yellow sugar is less than 20%, please refill in advance', 
      ua: 'Жовтий цукор менше 20%, поповніть заздалегідь', 
      fix: '', 
      steps: '' 
    },
    24: { 
      en: '24 Wastewater overflow warning', 
      ua: 'Попередження: заповнена ємність для стічної води', 
      fix: 'Тривогу скасовано', 
      steps: '' 
    },
    25: { 
      en: '25 The Blue sugar is less than 20%, please refill in advance', 
      ua: 'Синій цукор менше 20%, поповніть заздалегідь', 
      fix: '', 
      steps: '' 
    },
    26: { 
      en: '26 Clean water is less than 20%, please refill in advance', 
      ua: 'Чиста вода менше 20%, поповніть заздалегідь', 
      fix: '', 
      steps: '' 
    },
    27: { 
      en: '27 The furnace head is heated abnormally (D)', 
      ua: 'Аномалія нагріву пальника (D)', 
      fix: '1. Перевірте, чи працює нагрів пальника.', 
      steps: 'Метод перевірки функції нагріву пальника:\n1. Увійдіть у режим налагодження, натисніть "Нагрів пальника та запуск", перевірте, чи підвищується температура на екрані.\n2. Якщо температура підвищується – нагрів працює нормально, очистіть вугільні щітки.\n3. Якщо температура не підвищується, перевірте індикатор нагрівального реле:\n   - Якщо твердотільне реле світиться:\n     - Використовуйте мультиметр у режимі перевірки провідності, виміряйте між OUT+ та OUT-.\n     - Якщо немає провідності – замініть твердотільне реле.\n     - Якщо є провідність – замініть електромагнітну нагрівальну пластину.\n   - Якщо твердотільне реле не світиться:\n     - Перевірте параметри налаштувань, чи встановлена температура пальника ≈2000°C.\n     - Використовуйте мультиметр у режимі DC, виміряйте напругу між IN+ та IN-.\n     - Якщо є 24V, але реле не світиться – замініть реле.\n     - Якщо напруги немає – перевірте проводку, якщо вона справна, замініть PLC.' 
    },
    28: { 
      en: '28 Temperature value is abnormal', 
      ua: 'Ненормальне значення температури', 
      fix: 'Якщо бездротовий пальник показує температуру в діапазоні 376–384°C протягом 10 секунд, це вказує на несправність термопари.', 
      steps: 'Методи усунення:\n1. Перевірте, чи не обірвана лінія вугільної щітки.\n2. Перевірте, чи не пошкоджений дріт термопари.' 
    },
    29: { 
      en: '29 Receiver board disconnected', 
      ua: 'Розрив з\'єднання приймальної плати', 
      fix: 'Якщо бездротовий пальник показує температуру в діапазоні 395–399°C протягом 10 секунд, це вказує на несправність приймальної плати.', 
      steps: 'Методи усунення:\n1. Повторно спаруйте пальник із приймальною платою.\n2. Зніміть гумову заглушку та перевірте індикатор на передавальній платі:\n   - Якщо є вхідна напруга, але індикатор не світиться – необхідно замінити пальник.' 
    },
    30: { 
      en: '30 Abnormal high temperature 300', 
      ua: 'Аномально висока температура 300°C', 
      fix: 'Якщо температура перевищує 300°C протягом 30 секунд, це вказує на перегрів.\n\n.', 
      steps: 'Методи усунення:\n1. Капніть трохи води на пальник і перевірте, чи вона випаровується, щоб визначити, чи температура дійсно перевищує 300°C.\n   - Якщо температура реальна, вимкніть живлення та виміряйте провідність між OUT+ та OUT- твердотільного реле нагріву.\n     - Якщо є провідність – замініть твердотільне реле.\n   - Якщо температура хибна, перевірте систему відповідно до інструкції з усунення несправності "Обірваний ланцюг термопари"' 
    },
    31: { 
      en: '31 Site voltage is too low', 
      ua: 'Низька напруга в мережі', 
      fix: 'Тривога спрацьовує, якщо:\n- Для машин 110V напруга опускається нижче 90V.\n- Для машин 220V напруга опускається нижче 200V.', 
      steps: 'Методи усунення:\nЗверніться до обслуговуючого персоналу для вирішення проблеми з напругою.\n\nДіапазон робочої напруги:\n- Машини 110V: 90V – 130V\n- Машини 220V: 200V – 250V' 
    },
    32: { 
      en: '32 Site voltage is too high', 
      ua: 'Надмірна напруга в мережі', 
      fix: 'Тривога спрацьовує, якщо:\n- Для машин 110V напруга перевищує 130V.\n- Для машин 220V напруга перевищує 250V.', 
      steps: 'Методи усунення:\nЗверніться до обслуговуючого персоналу для вирішення проблеми з напругою.\n\nДіапазон робочої напруги:\n- Машини 110V: 90V – 130V\n- Машини 220V: 200V – 250V' 
    },
    33: { 
      en: '33 Machine is not grounded', 
      ua: 'Машина не підключена до заземлення', 
      fix: '1. Використовуйте фазовий тестер, щоб перевірити, чи підключене зовнішнє заземлення.\n2. Якщо на вході X12 PLC є сигнал протягом 5 секунд, на екрані з\'явиться тривога.', 
      steps: 'Методи усунення:\n- Якщо заземлення відсутнє – зверніться до обслуговуючого персоналу для виправлення.\n- Якщо заземлення є – виміряйте провідність між заземленням і мережевим кабелем машини.\n- Для тимчасового вимкнення тривоги перейдіть у розширені параметри та вимкніть оповіщення, після чого відключіть і знову підключіть живлення машини.' 
    },
    34: { 
      en: '34 Stove stop abnormality', 
      ua: 'Аномалія зупинки обертання пальника', 
      fix: '1. Переконайтеся, що пальник обертається нормально.', 
      steps: 'Метод перевірки функції обертання пальника:\n1. Увійдіть у режим налагодження, натисніть кнопку "Низькошвидкісне обертання пальника" та перевірте, чи починає він обертатися.\n   - Якщо пальник обертається – функція працює, але може знадобитися очищення вугільних щіток (можливе засмічення або зношення).\n   - Якщо пальник не обертається, необхідно провести додаткову діагностику:\n     1. Відкрити електричний шафу та мультиметром (DC 200V) виміряти напругу у таких точках:\n        - Правий верхній зелений контакт плати регулювання швидкості – перевірити 24V вхідної напруги.\n        - Нижній жовтий контакт (сигнальний провід) – перевірити наявність керуючого сигналу.\n        - Лівий верхній червоний контакт (вихід плати) – перевірити вихідну напругу.\n     2. Аналіз результатів:\n        - Якщо є вихідна напруга, але пальник не обертається – несправний сам пальник, його необхідно замінити.\n        - Якщо немає вихідної напруги, але є вхідний сигнал – плата регулювання швидкості несправна, її потрібно замінити.\n        - Якщо немає сигналу – виміряйте вихід PLC.\n        - Якщо PLC не подає вихідний сигнал – висока ймовірність його несправності, необхідно замінити PLC.' 
    },
    35: { 
      en: '35 Make sugar exception: It has not been made in more than 10 minutes, please check', 
      ua: 'Аномалія приготування цукру: не виготовлено за 10 хвилин, перевірте систему', 
      fix: '1. Визначте, який параметр не підвищується.', 
      steps: 'Метод перевірки:\n- Натисніть і утримуйте верхній лівий кут LOGO, щоб вийти зі сторінки приготування.\n- Перейдіть у режим налагодження, запустіть тестове виготовлення цукрової вати та спостерігайте, який показник на екрані не підвищується:\n  1. Якщо не зростає вологість, дотримуйтесь інструкцій NO.9.\n  2. Якщо не зростає температура, дотримуйтесь інструкцій NO.27.' 
    },
    36: { 
      en: '36 Generator temperature rise abnormal alarm', 
      ua: 'Аномалія нагріву генератора', 
      fix: 'Генератор не нагрівається.', 
      steps: 'Метод перевірки:\n1. Увійдіть у режим налагодження та увімкніть перемикач нагріву генератора.\n2. Використовуйте мультиметр для вимірювання напруги:\n   - Режим DC: перевірте, чи є 24V між червоним і синім проводами реле генератора.\n   - Режим AC: перевірте, чи є 220V між білим проводом і синім клемним блоком 220V.\n3. Аналіз результатів:\n   - Якщо є напруга в режимі DC, але немає в режимі AC – замініть реле.\n   - Якщо в обох режимах є напруга, але нагріву немає – замініть генератор.' 
    },
    37: { 
      en: '37 Outside the cabinet temperature and humidity sensor alarm', 
      ua: 'Аномалія датчика температури та вологості поза шафою', 
      fix: 'На екрані відображається 6508 або 0.', 
      steps: 'Методи усунення:\n1. Від\'єднайте та знову підключіть роз\'єм датчика температури та вологості поза шафою (знаходиться на даху шафи, біля модуля видачі стрижнів).\n2. Поміняйте місцями сигнальні дроти AD0, AD1 (зовнішній датчик) і AD8, AD9 (внутрішній датчик) на клемах PLC.\n   - Якщо значення залишаються такими ж – несправний PLC, його необхідно замінити.\n   - Якщо значення змінилися – несправний датчик температури та вологості, його необхідно замінити.' 
    },
    38: { 
      en: '38 Generator high temperature abnormality', 
      ua: 'Аномалія перегріву генератора', 
      fix: 'Температура генератора відображається як 399°C.', 
      steps: 'Методи усунення:\n1. Поміняйте місцями температурні передавачі з сусіднім (достатньо замінити чорний блок, без від\'єднання проводів).\n2. Спостерігайте, чи змінилося відображення температури:\n   - Якщо значення не змінилося – ймовірна несправність випарника.\n   - Якщо значення змінилося – ймовірна несправність температурного передавача, його потрібно замінити.' 
    }
  },
  popcorn: {
    1: {
      en: 'Alarm signal for unpopped corn',
      ua: 'Сигнал тривоги для не вибухнутої кукурудзи',
      fix: `1. Відсутність кукурудзи в завантажувальному контейнері.\n2. Кукурудза не подається через систему подачі.\n3. Генератор не набирає робочу температуру.`,
      steps: `1. Додайте кукурудзу.\n2. У «Debug» натисніть "Feed Corn Forward" і перевірте мотор; немає руху — перевірте живлення.\n3. Перевірте датчик температури та генератор.`
    },
    2: {
      en: 'Alarm signal for pipeline blockage',
      ua: 'Сигнал тривоги для блокування трубопроводу',
      fix: `1. Низька швидкість повітряного потоку.\n2. Зношені або заклинені лопаті вентилятора / насос.`,
      steps: `1. Підніміть low-speed airflow у налаштуваннях.\n2. Замініть лопаті чи весь повітряний насос.`
    },
    3: {
      en: 'Alarm signal for cup release error (X4)',
      ua: 'Сигнал тривоги для помилки скидання чашок (X4)',
      fix: `1. Чашка нахилена або заклинена.\n2. Сторонній предмет чи знос механізму.\n3. Несправний двигун або датчик X4.`,
      steps: `1. Вирівняйте / звільніть чашку.\n2. Приберіть сторонні предмети, змастіть чи замініть компоненти.\n3. Замініть двигун або датчик X4, якщо не працює.`
    },
    4: {
      en: 'Alarm signal for missing cup',
      ua: 'Сигнал тривоги для відсутньої чашки',
      fix: 'Порожній магазин або несправний датчик X7.',
      steps: 'Заповніть стакани, протестуйте / замініть X7.'
    },
    5: {
      en: 'Alarm signal for pipeline blockage',
      ua: 'Сигнал тривоги для блокування трубопроводу',
      fix: 'Дублікат №2 — та ж сама причина.',
      steps: 'Застосуйте дії з пункту №2.'
    },
    6: {
      en: 'Sticks run-out detection alarm',
      ua: 'Аномалія виявлення відсутності стрижнів у коробці',
      fix: 'Порожня коробка стрижнів або датчик не бачить паличок.',
      steps: `1. Заповніть коробку стрижнями.\n2. Усуньте заклинювання, перезапустіть машину.\n3. Якщо датчик не реагує — очистіть / замініть його.`
    },
    7: {
      en: 'Alarm signal for absence of corn',
      ua: 'Сигнал тривоги для відсутності кукурудзи',
      fix: 'Контейнер пустий або шнек забитий.',
      steps: 'Заповніть кукурудзу, очистьте шнек-подачу.'
    },
    8: {
      en: 'Alarm signal due to insufficient sugar',
      ua: 'Сигнал тривоги через недостатню кількість цукру',
      fix: 'Ємність порожня або неправильно зважена.',
      steps: `1. Встановіть ємність на місце.\n2. Скиньте вагу, залийте сироп.`
    },
    9: {
      en: 'Alarm signal due to corn feeding error',
      ua: 'Сигнал тривоги через помилку подачі кукурудзи',
      fix: 'Мотор подачі заклинило, датчик не бачить руху.',
      steps: `1. Приберіть сторонні предмети з мотора.\n2. Активуйте мотор вручну, перевірте реле та проводку.`
    },
    10: {
      en: 'Alarm signal: cup delivery / cooling issue',
      ua: 'Сигнал тривоги: проблема подачі чи охолодження чашки',
      fix: 'Датчик виходу не отримує сигнал або ліфт заклинило.',
      steps: 'Перевірте механізм ліфта, пружину та датчик виходу.'
    },
    11: {
      en: 'Alarm: generator not heating',
      ua: 'Сигнал тривоги: генератор не нагрівається',
      fix: 'Немає живлення 220 V або спалений нагрівач (30-40 Ω).',
      steps: `1. Перевірте 220 V на вході.\n2. Виміряйте опір; обрив → заміна елемента.`
    },
    12: {
      en: 'Overheating in heat-preservation zone',
      ua: 'Перегрів у зоні збереження тепла',
      fix: 'Залипло реле або датчик бреше.',
      steps: `1. Перевірте твердотільне реле.\n2. Перевірте датчик і нагрівач (~30 Ω).`
    },
    13: {
      en: 'Fault: cup lift mechanism failure',
      ua: 'Несправність механізму підйому чашок',
      fix: 'Заклинювання, обрив важеля або датчик X13 мертвий.',
      steps: 'Перевірте важіль, мотор, X13; замініть несправне.'
    },
    14: {
      en: 'Fault: sugar temperature maintenance failure',
      ua: 'Несправність підтримання температури цукру',
      fix: 'Нагрівач 200-300 Ω обірваний або реле не подає живлення.',
      steps: 'Перевірте ланцюг 220 V, замініть несправний елемент.'
    },
    15: {
      en: 'Alarm signal for generator air pump',
      ua: 'Сигнал тривоги генераторного повітряного насоса',
      fix: 'Насос не качає або драйвер не дає сигналу.',
      steps: `1. Перезапустіть насос вручну.\n2. Якщо мовчить — замініть насос або драйвер.`
    },
    16: {
      en: 'Alarm signal for mixing air pump',
      ua: 'Сигнал тривоги змішувального повітряного насоса',
      fix: 'Насос не крутить або драйвер мертвий.',
      steps: `1. У «Debug» активуйте насос.\n2. Нема реакції — перевірте драйвер, напругу, замініть насос.`
    },
    17: {
      en: 'Alarm due to absence of clean water',
      ua: 'Сигнал тривоги: немає чистої води',
      fix: 'Рівень нижче датчика.',
      steps: 'Долийте воду у бак.'
    },
    18: {
      en: 'Alarm due to wastewater tank overflow',
      ua: 'Сигнал тривоги: переповнений бак стоків',
      fix: 'Бак повний або датчик у сиропі.',
      steps: 'Злийте стоки, очистьте датчик.'
    },
    19: {
      en: 'Alarm: no cup in mixing chamber',
      ua: 'Сигнал тривоги: відсутня чашка у змішувальній камері',
      fix: 'Чашка не дійшла або датчик не спрацював.',
      steps: 'Очистьте камеру, перезапустіть цикл.'
    },
    20: {
      en: 'Alarm: no cup in cup receiver',
      ua: 'Відсутність чашки у приймальнику',
      fix: 'Чашка застрягла перед сенсором.',
      steps: 'Скиньте помилку, дістаньте чашку, повторіть запуск.'
    },
    21: {
      en: 'Faulty cup lift sensor',
      ua: 'Несправний датчик підйому чашки',
      fix: 'X13 не дає сигналу або обрив проводки.',
      steps: 'Перевірте X13, живлення, замініть несправне.'
    },
    22: {
      en: 'Overheating in heat-preservation module',
      ua: 'Перегрів модуля збереження тепла',
      fix: 'Реле застрягло або датчик завищує покази.',
      steps: 'Перевірте реле, датчик, замініть проблемний компонент.'
    },
    23: {
      en: 'Alarm: foreign object in cooling channel',
      ua: 'Сторонній об\'єкт у каналі охолодження',
      fix: 'Метал або сміття блокує вихід.',
      steps: 'Очистьте канал, перевірте датчик виходу.'
    },
    24: {
      en: 'Alarm due to absence of grounding',
      ua: 'Сигнал тривоги: відсутнє заземлення',
      fix: 'Землю відʼєднано або обірвано.',
      steps: 'Перевірте та підключіть землю на живленні й модулі.'
    },
    25: {
      en: 'Alarm due to coin shortage',
      ua: 'Сигнал тривоги: нестача монет',
      fix: 'Хопер порожній або монети заклинило.',
      steps: 'Досипте монети у ресайлер, перезапустіть приймач.'
    }
  }
};

    // --------- Root Element ---------
    const app = document.getElementById('app');

    // --------- Render Home Screen ---------
    function renderHome() {
      app.innerText = '';
      const container = document.createElement('div');
      container.className = 'container';
      // Logo
      const logo = document.createElement('div');
      logo.className = 'logo';
      logo.textContent = 'VEND PRO';
      container.appendChild(logo);
      // Subtitle
      const subtitle = document.createElement('div');
      subtitle.className = 'subtitle';
      subtitle.textContent = 'ERROR CODES FOR MACHINES by BENITO';
      container.appendChild(subtitle);
      // Button: Cotton Candy
      const btnCotton = document.createElement('button');
      btnCotton.className = 'btn';
      btnCotton.textContent = 'Cotton Candy Machine';
      btnCotton.addEventListener('click', () => {
        location.hash = '#cotton';
      });
      container.appendChild(btnCotton);
      // Button: Pop-corn
      const btnPopcorn = document.createElement('button');
      btnPopcorn.className = 'btn';
      btnPopcorn.textContent = 'Pop-corn Machine';
      btnPopcorn.addEventListener('click', () => {
        location.hash = '#popcorn';
      });
      container.appendChild(btnPopcorn);
      app.appendChild(container);
    }

    // --------- Render Machine Page ---------
    function renderMachine(machine) {
      app.innerText = '';
      // Watermark
      const watermark = document.createElement('div');
      watermark.className = 'watermark';
      watermark.textContent = 'VEND PRO';
      app.appendChild(watermark);
      // Container
      const container = document.createElement('div');
      container.className = 'container';
      // Back Button
      const backBtn = document.createElement('button');
      backBtn.className = 'back-btn';
      backBtn.textContent = '← BACK';
      backBtn.addEventListener('click', () => {
        location.hash = '';
      });
      container.appendChild(backBtn);
      // Explanation Text
      const infoText = document.createElement('p');
      infoText.textContent = 'SEND TO THE ERROR NUMBER THE MACHINE';
      container.appendChild(infoText);
      // Input Field
      const input = document.createElement('input');
      input.type = 'number';
      input.placeholder = 'Error code…';
      input.autofocus = true;
      container.appendChild(input);
      // Enter Button
      const enterBtn = document.createElement('button');
      enterBtn.className = 'btn enter-btn';
      enterBtn.textContent = 'ENTER';
      enterBtn.addEventListener('click', () => {
        const code = input.value.trim();
        if (!code) return;
        renderError(machine, code);
      });
      container.appendChild(enterBtn);
      app.appendChild(container);
    }

    // --------- Render Error Display ---------
    function renderError(machine, code) {
      const entry = DATA[machine][code];
      // If code not found
      if (!entry) {
        alert('Error code not found');
        return;
      }
      app.innerText = '';
      // Watermark
      const watermark = document.createElement('div');
      watermark.className = 'watermark';
      watermark.textContent = 'VEND PRO';
      app.appendChild(watermark);
      // Container
      const container = document.createElement('div');
      container.className = 'container';
      // Back Button
      const backBtn = document.createElement('button');
      backBtn.className = 'back-btn';
      backBtn.textContent = '← BACK';
      backBtn.addEventListener('click', () => {
        location.hash = '';
      });
      container.appendChild(backBtn);
      // Error Container
      const errCont = document.createElement('div');
      errCont.className = 'error-container';
      // Code
      const errCode = document.createElement('div');
      errCode.className = 'error-code';
      errCode.textContent = `#${code}`;
      errCont.appendChild(errCode);
      // English Message
      const errEn = document.createElement('div');
      errEn.className = 'error-msg';
      errEn.textContent = `${entry.en} (EN)`;
      errCont.appendChild(errEn);
      // Ukrainian Message
      const errUa = document.createElement('div');
      errUa.className = 'error-msg';
      errUa.textContent = `${entry.ua} (UA)`;
      errCont.appendChild(errUa);
      // Accordion Container
      const acc = document.createElement('div');
      acc.className = 'accordion';

      // Panel: Послідовність усунення
      const panel1 = createPanel('Послідовність усунення', entry.fix);
      acc.appendChild(panel1);
      // Panel: Детальні кроки
      const panel2 = createPanel('Детальні кроки', entry.steps);
      acc.appendChild(panel2);

      errCont.appendChild(acc);
      container.appendChild(errCont);
      app.appendChild(container);

      const contentArea = document.getElementById(`content-${code}`);
      if (contentArea) {
        contentArea.textContent = entry.steps;
      }
    }

    // --------- Create Accordion Panel ---------
    function createPanel(title, text) {
      const panel = document.createElement('div');
      panel.className = 'panel';
      // Header
      const header = document.createElement('div');
      header.className = 'panel-header';
      const titleSpan = document.createElement('span');
      titleSpan.textContent = title;
      header.appendChild(titleSpan);
      const toggleIcon = document.createElement('span');
      toggleIcon.className = 'toggle-icon';
      toggleIcon.textContent = '▼';
      header.appendChild(toggleIcon);
      panel.appendChild(header);
      // Content
      const content = document.createElement('div');
      content.className = 'panel-content';
      const p = document.createElement('pre');
      p.innerHTML = text.replace(/\\n/g, '<br>');
      content.appendChild(p);
      // Copy Section
      const copySection = document.createElement('div');
      copySection.className = 'copy-section';
      const copyIcon = document.createElement('span');
      copyIcon.className = 'copy-icon';
      copyIcon.textContent = '📋';
      copyIcon.title = 'Copy to clipboard';
      copyIcon.addEventListener('click', () => {
        navigator.clipboard.writeText(text);
      });
      copySection.appendChild(copyIcon);
      // Collapse Button
      const collapseBtn = document.createElement('button');
      collapseBtn.className = 'collapse-btn';
      collapseBtn.textContent = 'Згорнути';
      collapseBtn.addEventListener('click', () => {
        content.style.display = 'none';
        toggleIcon.style.transform = 'rotate(0deg)';
      });
      copySection.appendChild(collapseBtn);
      content.appendChild(copySection);
      panel.appendChild(content);

      // Header click toggles content
      header.addEventListener('click', () => {
        if (content.style.display === 'block') {
          content.style.display = 'none';
          toggleIcon.style.transform = 'rotate(0deg)';
        } else {
          content.style.display = 'block';
          toggleIcon.style.transform = 'rotate(180deg)';
        }
      });

      return panel;
    }

    // --------- Router ---------
    function router() {
      const hash = location.hash.replace('#', '');
      if (hash === 'cotton') {
        renderMachine('cotton');
      } else if (hash === 'popcorn') {
        renderMachine('popcorn');
      } else {
        renderHome();
      }
    }

    window.addEventListener('hashchange', router);
    window.addEventListener('load', router);
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const fixLineBreaks = () => {
        document.querySelectorAll('.accordion-body').forEach(el => {
          el.style.whiteSpace = 'pre-line';
          el.style.textAlign = 'left';
        });
      };
    
      fixLineBreaks();
      document.body.addEventListener('click', () => setTimeout(fixLineBreaks, 0));
    });
  </script>
</body>
</html>
